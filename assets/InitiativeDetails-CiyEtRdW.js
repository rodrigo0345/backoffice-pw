import{A as z,i as k}from"./index-M9Wv1zzj.js";import{r as P,_ as $,l as y,k as a,i as d,w as l,p as O,q as D,F as Q,m as T,f as I,g as m,j as C,t as w,e as F,y as ae,z as se,A as be,v as U,x as K,T as le,B as Ie}from"./index-CgQJwkAA.js";import{W as Ce,F as xe,O as ke,I as Y}from"./InitiativeService-BoXC6F8l.js";import{F as Me}from"./FoodModelRepository-EukNaaBv.js";import{I as De,S as Be}from"./SuggestionRepository-CYBXsh7L.js";import{J as Pe,a as qe,U as _e}from"./UserService-BEFFJ9pR.js";import{F as Fe}from"./FoodService-CMpHdTPP.js";import{M as Se}from"./MaterialService-C88B2Ujc.js";import"./RepositoryInterface-TDgCEybl.js";import"./MaterialRepository-CkyeY5IP.js";class Ae{constructor(){this.initiativeRepository=new De,this.suggestionRepository=new Be,this.workingInRepository=new Ce,this.jobRepository=new Pe,this.usersRepository=new qe,this.foodRepository=new Me,this.foodListRepository=new xe,this.orderRepository=new ke}makeOrder(t,r){if(r.length===0)throw new Error("You must select at least one food item.");const e=[];if(r.forEach(s=>{const c=this.foodRepository.find({id:s.foodId});if(!c)throw new Error("Food not found.");e.push(c)}),t.price=e.reduce((s,c)=>{var p;return s+c.price*(((p=r.find(f=>f.foodId===c.id))==null?void 0:p.quantity)??0)},0),t.isDeleted=!1,t.status="pending",!this.initiativeRepository.find({id:t.initiativeId}))throw new Error("Initiative not found.");const h=this.orderRepository.create(t);return e.forEach(s=>{const c=r.find(p=>p.foodId===s.id);if(!c)throw new Error("Food not found.");this.foodListRepository.create({id:0,orderId:h.id,foodId:s.id,quantity:c.quantity})}),h}pickOrder(t){const r=this.orderRepository.find({id:t});if(!r)throw new Error("Order not found.");if(r.status==="completed")throw new Error("Order already completed.");if(r.status==="cancelled")throw new Error("Order was cancelled, request a new one.");return r.status="completed",this.orderRepository.update(t,r)}cancelOrder(t){const r=this.orderRepository.find({id:t});if(!r)throw new Error("Order not found.");if(r.status==="completed")throw new Error("Order already completed.");if(r.status==="cancelled")throw new Error("Order was already cancelled.");return r.status="cancelled",this.orderRepository.update(t,r)}}function S(o){const t=Object.prototype.toString.call(o);return o instanceof Date||typeof o=="object"&&t==="[object Date]"?new o.constructor(+o):typeof o=="number"||t==="[object Number]"||typeof o=="string"||t==="[object String]"?new Date(o):new Date(NaN)}function Oe(o,t){return o instanceof Date?new o.constructor(t):new Date(t)}const H=43200,he=1440;let Ee={};function Le(){return Ee}function fe(o){const t=S(o),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+o-+r}function te(o,t){const r=S(o),e=S(t),n=r.getTime()-e.getTime();return n<0?-1:n>0?1:n}function Ne(o){return Oe(o,Date.now())}function We(o,t){const r=S(o),e=S(t),n=r.getFullYear()-e.getFullYear(),h=r.getMonth()-e.getMonth();return n*12+h}function Qe(o){return t=>{const e=(o?Math[o]:Math.trunc)(t);return e===0?0:e}}function Te(o,t){return+S(o)-+S(t)}function Re(o){const t=S(o);return t.setHours(23,59,59,999),t}function $e(o){const t=S(o),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Ue(o){const t=S(o);return+Re(t)==+$e(t)}function Ke(o,t){const r=S(o),e=S(t),n=te(r,e),h=Math.abs(We(r,e));let s;if(h<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-n*h);let c=te(r,e)===-n;Ue(S(o))&&h===1&&te(o,e)===1&&(c=!1),s=n*(h-Number(c))}return s===0?0:s}function Ve(o,t,r){const e=Te(o,t)/1e3;return Qe(r==null?void 0:r.roundingMethod)(e)}const je={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ge=(o,t,r)=>{let e;const n=je[o];return typeof n=="string"?e=n:t===1?e=n.one:e=n.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+e:e+" ago":e};function ne(o){return(t={})=>{const r=t.width?String(t.width):o.defaultWidth;return o.formats[r]||o.formats[o.defaultWidth]}}const Xe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ze={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Je={date:ne({formats:Xe,defaultWidth:"full"}),time:ne({formats:ze,defaultWidth:"full"}),dateTime:ne({formats:Ye,defaultWidth:"full"})},He={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ze=(o,t,r,e)=>He[o];function j(o){return(t,r)=>{const e=r!=null&&r.context?String(r.context):"standalone";let n;if(e==="formatting"&&o.formattingValues){const s=o.defaultFormattingWidth||o.defaultWidth,c=r!=null&&r.width?String(r.width):s;n=o.formattingValues[c]||o.formattingValues[s]}else{const s=o.defaultWidth,c=r!=null&&r.width?String(r.width):o.defaultWidth;n=o.values[c]||o.values[s]}const h=o.argumentCallback?o.argumentCallback(t):t;return n[h]}}const et={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tt={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},at={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ot={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nt={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},it=(o,t)=>{const r=Number(o),e=r%100;if(e>20||e<10)switch(e%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},st={ordinalNumber:it,era:j({values:et,defaultWidth:"wide"}),quarter:j({values:tt,defaultWidth:"wide",argumentCallback:o=>o-1}),month:j({values:at,defaultWidth:"wide"}),day:j({values:ot,defaultWidth:"wide"}),dayPeriod:j({values:rt,defaultWidth:"wide",formattingValues:nt,defaultFormattingWidth:"wide"})};function G(o){return(t,r={})=>{const e=r.width,n=e&&o.matchPatterns[e]||o.matchPatterns[o.defaultMatchWidth],h=t.match(n);if(!h)return null;const s=h[0],c=e&&o.parsePatterns[e]||o.parsePatterns[o.defaultParseWidth],p=Array.isArray(c)?dt(c,b=>b.test(s)):lt(c,b=>b.test(s));let f;f=o.valueCallback?o.valueCallback(p):p,f=r.valueCallback?r.valueCallback(f):f;const _=t.slice(s.length);return{value:f,rest:_}}}function lt(o,t){for(const r in o)if(Object.prototype.hasOwnProperty.call(o,r)&&t(o[r]))return r}function dt(o,t){for(let r=0;r<o.length;r++)if(t(o[r]))return r}function ct(o){return(t,r={})=>{const e=t.match(o.matchPattern);if(!e)return null;const n=e[0],h=t.match(o.parsePattern);if(!h)return null;let s=o.valueCallback?o.valueCallback(h[0]):h[0];s=r.valueCallback?r.valueCallback(s):s;const c=t.slice(n.length);return{value:s,rest:c}}}const ut=/^(\d+)(th|st|nd|rd)?/i,mt=/\d+/i,ht={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ft={any:[/^b/i,/^(a|c)/i]},gt={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yt={any:[/1/i,/2/i,/3/i,/4/i]},vt={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_t={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pt={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wt={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bt={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},It={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ct={ordinalNumber:ct({matchPattern:ut,parsePattern:mt,valueCallback:o=>parseInt(o,10)}),era:G({matchPatterns:ht,defaultMatchWidth:"wide",parsePatterns:ft,defaultParseWidth:"any"}),quarter:G({matchPatterns:gt,defaultMatchWidth:"wide",parsePatterns:yt,defaultParseWidth:"any",valueCallback:o=>o+1}),month:G({matchPatterns:vt,defaultMatchWidth:"wide",parsePatterns:_t,defaultParseWidth:"any"}),day:G({matchPatterns:pt,defaultMatchWidth:"wide",parsePatterns:wt,defaultParseWidth:"any"}),dayPeriod:G({matchPatterns:bt,defaultMatchWidth:"any",parsePatterns:It,defaultParseWidth:"any"})},xt={code:"en-US",formatDistance:Ge,formatLong:Je,formatRelative:Ze,localize:st,match:Ct,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kt(o,t,r){const e=Le(),n=(r==null?void 0:r.locale)??e.locale??xt,h=2520,s=te(o,t);if(isNaN(s))throw new RangeError("Invalid time value");const c=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:s});let p,f;s>0?(p=S(t),f=S(o)):(p=S(o),f=S(t));const _=Ve(f,p),b=(fe(f)-fe(p))/1e3,x=Math.round((_-b)/60);let g;if(x<2)return r!=null&&r.includeSeconds?_<5?n.formatDistance("lessThanXSeconds",5,c):_<10?n.formatDistance("lessThanXSeconds",10,c):_<20?n.formatDistance("lessThanXSeconds",20,c):_<40?n.formatDistance("halfAMinute",0,c):_<60?n.formatDistance("lessThanXMinutes",1,c):n.formatDistance("xMinutes",1,c):x===0?n.formatDistance("lessThanXMinutes",1,c):n.formatDistance("xMinutes",x,c);if(x<45)return n.formatDistance("xMinutes",x,c);if(x<90)return n.formatDistance("aboutXHours",1,c);if(x<he){const i=Math.round(x/60);return n.formatDistance("aboutXHours",i,c)}else{if(x<h)return n.formatDistance("xDays",1,c);if(x<H){const i=Math.round(x/he);return n.formatDistance("xDays",i,c)}else if(x<H*2)return g=Math.round(x/H),n.formatDistance("aboutXMonths",g,c)}if(g=Ke(f,p),g<12){const i=Math.round(x/H);return n.formatDistance("xMonths",i,c)}else{const i=g%12,u=Math.trunc(g/12);return i<3?n.formatDistance("aboutXYears",u,c):i<9?n.formatDistance("overXYears",u,c):n.formatDistance("almostXYears",u+1,c)}}function Mt(o,t){return kt(o,Ne(o),t)}const ie=new Ae,ge=new Y,ye=new Fe,Dt={name:"Order",props:{intiativeId:{type:Number,required:!0}},data(){return{chosenFood:"",quantities:0,selectedFoods:[],editedOrder:{}}},components:{AppModal:z},methods:{addFoodToBasket(){if(!this.chosenFood){k("Please select a food",{type:"error"});return}const o=ye.findFood({id:Number(this.chosenFood)});if(!o){k("Food not found",{type:"error"});return}if(this.selectedFoods.some(t=>t.food.id===(o==null?void 0:o.id))){k("Food already added",{type:"error"});return}if(!this.quantities){k("Please select a quantity",{type:"error"});return}this.selectedFoods.push({food:o,quantity:this.quantities})},removeFoodFromBasket(o){const t=this.selectedFoods.findIndex(r=>r.food.id===o);if(t===-1){k("Food not found",{type:"error"});return}this.selectedFoods.splice(t,1)},setEditedOrder(o){const t=ge.getFoodFromOrder(o.id),r=t.reduce((e,n)=>e+n.risk,0)/t.length||1;this.editedOrder={...o,risk:r,foods:t}},createOrder(){const o=document.getElementById("order-name"),t=document.getElementById("order-delivery-date");if(!o||!t){k("Please fill all the fields",{type:"error"});return}if(!o.value||!t.value){k("Please fill all the fields",{type:"error"});return}const r=this.selectedFoods.reduce((s,c)=>s+Number(c.food.price)*c.quantity,0);if(!this.$props.intiativeId){k("Please select an initiative",{type:"error"});return}const e={id:0,name:o.value,initiativeId:this.$props.intiativeId,price:r,status:"pending",deliveryDate:new Date(t.value),isDeleted:!1},n=this.selectedFoods.map(s=>({foodId:s.food.id,quantity:s.quantity}));try{ie.makeOrder(e,n)}catch(s){k("Error creating order: "+s.message,{type:"error"});return}document.getElementById("close-modal-"+this.modalId).click(),k("Order created",{type:"success"}),this.setPage(1),this.loadOrder()},formatDistanceToNow:Mt,deleteOrder(o){try{ie.cancelOrder(o)}catch(t){k("Error deleting order: "+t.message,{type:"error"});return}k("Order cancelled",{type:"success"}),this.loadOrder()}},setup(o){const t=P([]),r=P(1),e=P(""),n=P({isDeleted:!1});function h(){t.value=ge.getOrders(o.intiativeId,!1).filter(i=>n.value.isDeleted?i.status==="cancelled":i.status!=="cancelled").filter(i=>e.value.trim()===""?!0:i.name.toLowerCase().includes(e.value)).filter((i,u)=>u>=(r.value-1)*10&&u<r.value*10)}async function s(i){i.orderKey===n.value.orderKey&&(i.orderBy=n.value.orderBy==="asc"?"desc":"asc"),n.value={...n.value,...i},h()}async function c(i){e.value=i,h()}async function p(){n.value={isDeleted:!1},h()}async function f(){r.value++,h()}async function _(){r.value--,h()}async function b(i){i<1&&(i=1),r.value=i,h()}h();function x(i){const u=g().find(q=>q.id===i);return u?u.name:"Food not found"}function g(){return ye.listFood({})}return{modalId:"addfood",orderService:ie,document,orders:t,nextPage:f,previousPage:_,setPage:b,page:r,setQuery:s,resetQuery:p,query:n,setSearch:c,getAllFood:g,getFoodNameById:x,loadOrder:h}}},E=o=>(U("data-v-fa0812fb"),o=o(),K(),o),Bt={class:"intro"},Pt={class:"bg-image h-100"},qt={class:"mask d-flex align-items-center h-100"},Ft={class:"container"},St={class:"row justify-content-center"},At={class:"col-12"},Ot={class:"d-flex align-items-center mb-3 gap-3 justify-content-between"},Et=E(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[a("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})],-1)),Lt={class:"card shadow-2-strong"},Nt={class:"card-body"},Wt={class:"table-responsive"},Qt={class:"table table-borderless mb-0"},Tt={scope:"col"},Rt=E(()=>a("p",{class:"p-0 m-0"},"Name",-1)),$t=E(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Ut=[$t],Kt={scope:"col"},Vt=E(()=>a("p",{class:"p-0 m-0"},"Price",-1)),jt=E(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Gt=[jt],Xt={scope:"col"},zt=E(()=>a("p",{class:"p-0 m-0"},"Delivery Date",-1)),Yt=E(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Jt=[Yt],Ht={scope:"col"},Zt=E(()=>a("p",{class:"p-0 m-0"},"Id",-1)),ea=E(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),ta=[ea],aa={key:0,scope:"col"},oa=["onClick"],ra=["data-bs-target"],na=["data-bs-target"],ia=["data-bs-target"],sa=["data-bs-target"],la={key:0,class:"custom-row"},da=["onClick"],ca=E(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x text-white",viewBox:"0 0 16 16"},[a("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1)),ua=[ca],ma={class:"container d-flex pt-4 justify-content-between"},ha=E(()=>a("span",{"aria-hidden":"true"},"«",-1)),fa=E(()=>a("span",{"aria-hidden":"true"},"»",-1)),ga=["value"],ya=["onClick"],va=E(()=>a("span",{style:{"background-color":"red","border-radius":"0.7em",height:"10px",width:"10px",color:"white",cursor:"pointer","aspect-ratio":"square"},class:"p-2 !rounded-md"},"x",-1));function _a(o,t,r,e,n,h){var i;const s=I("CInputGroupText"),c=I("CFormInput"),p=I("CInputGroup"),f=I("CButton"),_=I("CButtonGroup"),b=I("CPaginationItem"),x=I("CPagination"),g=I("app-modal");return m(),y("section",Bt,[a("div",Pt,[a("div",qt,[a("main",Ft,[a("div",St,[a("div",At,[a("div",Ot,[d(p,{class:"w-25"},{default:l(()=>[d(s,null,{default:l(()=>[Et]),_:1}),d(c,{onChange:t[0]||(t[0]=u=>e.setSearch(u.target.value)),placeholder:"Search","aria-label":"Search","aria-describedby":"search"})]),_:1}),d(_,{role:"group","aria-label":"Basic example"},{default:l(()=>[d(f,{color:"primary",active:!e.query.isDeleted,onClick:t[1]||(t[1]=u=>e.setQuery({isDeleted:!1}))},{default:l(()=>[C("Active")]),_:1},8,["active"]),d(f,{color:"primary",active:e.query.isDeleted,onClick:t[2]||(t[2]=u=>e.setQuery({isDeleted:!0}))},{default:l(()=>[C("Cancelled")]),_:1},8,["active"])]),_:1})]),a("div",Lt,[a("div",Nt,[a("div",Wt,[a("table",Qt,[a("thead",null,[a("tr",null,[a("th",Tt,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[3]||(t[3]=u=>e.setQuery({orderKey:"name",orderBy:"asc"}))},[Rt,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="name"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Ut,4))])]),a("th",Kt,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[4]||(t[4]=u=>e.setQuery({orderKey:"price",orderBy:"asc"}))},[Vt,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="price"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Gt,4))])]),a("th",Xt,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[5]||(t[5]=u=>e.setQuery({orderKey:"deliveryDate",orderBy:"asc"}))},[zt,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="deliveryDate"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Jt,4))])]),a("th",Ht,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[6]||(t[6]=u=>e.setQuery({orderKey:"id",orderBy:"asc"}))},[Zt,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="id"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},ta,4))])]),e.query.isDeleted?D("",!0):(m(),y("th",aa,"Cancel"))])]),a("tbody",null,[(m(!0),y(Q,null,T(e.orders,u=>(m(),y("tr",{key:u.id,class:"table-row custom-row-parent",onClick:q=>h.setEditedOrder(u)},[a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(u.name),9,ra),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(u.price),9,na),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(h.formatDistanceToNow(u.deliveryDate,{addSuffix:!0})),9,ia),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(u.id),9,sa),e.query.isDeleted?D("",!0):(m(),y("td",la,[a("button",{type:"button",class:"btn btn-danger btn-sm px-3",onClick:q=>h.deleteOrder(u.id)},ua,8,da)]))],8,oa))),128))])])])])])])]),a("div",ma,[d(x,{"aria-label":"Page navigation example"},{default:l(()=>[e.page>1?(m(),F(b,{key:0,"aria-label":"Previous",style:{cursor:"pointer"},onClick:e.previousPage},{default:l(()=>[ha]),_:1},8,["onClick"])):D("",!0),d(b,{active:""},{default:l(()=>[C(w(e.page),1)]),_:1}),e.orders.length==10?(m(),F(b,{key:1,onClick:t[7]||(t[7]=u=>e.setPage(e.page+1)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+1),1)]),_:1})):D("",!0),e.orders.length==10?(m(),F(b,{key:2,onClick:t[8]||(t[8]=u=>e.setPage(e.page+2)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+2),1)]),_:1})):D("",!0),e.orders.length==10?(m(),F(b,{key:3,"aria-label":"Next",onClick:e.nextPage,style:{cursor:"pointer"}},{default:l(()=>[fa]),_:1},8,["onClick"])):D("",!0)]),_:1}),d(f,{"data-bs-toggle":"modal",type:"button","data-bs-target":"#"+e.modalId,color:"primary"},{default:l(()=>[C(" Add new order ")]),_:1},8,["data-bs-target"]),d(g,{targetId:e.modalId,title:"Add Order",description:"Create a new order",saveAction:h.createOrder},{default:l(()=>[a("p",null," Total Price "+w(n.selectedFoods&&n.selectedFoods.length?n.selectedFoods.reduce((u,q)=>u+Number(q.food.price)*q.quantity,0):0)+"€ ",1),d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("Name")]),_:1}),d(c,{id:"order-name",placeholder:"Name","aria-label":"Name","aria-describedby":"basic-addon1"})]),_:1}),d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("Delivery Date")]),_:1}),d(c,{id:"order-delivery-date",class:"form-control",type:"datetime-local",value:new Date().toISOString().replace("T"," ").substring(0,16)},null,8,["value"])]),_:1}),d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("Food")]),_:1}),ae(a("select",{name:"selectFood",id:"selectFood","onUpdate:modelValue":t[9]||(t[9]=u=>n.chosenFood=u)},[(m(!0),y(Q,null,T(e.getAllFood(),u=>(m(),y("option",{value:u.id,key:u.id},w(u.name)+" - "+w(u.price)+"€ ",9,ga))),128))],512),[[se,n.chosenFood]]),ae(a("input",{type:"number",name:"quantity",id:"foodQuantity","onUpdate:modelValue":t[10]||(t[10]=u=>n.quantities=u)},null,512),[[be,n.quantities]]),a("button",{onClick:t[11]||(t[11]=(...u)=>h.addFoodToBasket&&h.addFoodToBasket(...u))},"Add")]),_:1}),(m(!0),y(Q,null,T(n.selectedFoods,u=>(m(),y("div",{key:u.food},[a("p",{onClick:q=>h.removeFoodFromBasket(u.food.id)},[C(w(u.food.name)+" - "+w(u.quantity)+" units - "+w(u.food.price)+" € ",1),va],8,ya)]))),128))]),_:1},8,["targetId","saveAction"])])])]),d(g,{targetId:e.modalId+"-edit",title:(i=n.editedOrder)==null?void 0:i.name,description:"Edit order",saveButton:""},{default:l(()=>[d(p,{class:"mb-3"},{default:l(()=>{var u,q;return[d(s,null,{default:l(()=>[C(" Name ")]),_:1}),d(c,{id:"order-name-edit",disabled:"",placeholder:(u=n.editedOrder)==null?void 0:u.name,"aria-label":"Name","aria-describedby":"basic-addon1",value:(q=n.editedOrder)==null?void 0:q.name},null,8,["placeholder","value"])]}),_:1}),d(p,{class:"mb-3"},{default:l(()=>{var u,q;return[d(s,null,{default:l(()=>[C("Price (€)")]),_:1}),d(c,{id:"order-price-edit",disabled:"",placeholder:(u=n.editedOrder)==null?void 0:u.price,"aria-label":"Price","aria-describedby":"basic-addon1",value:Number((q=n.editedOrder)==null?void 0:q.price).toFixed(2)},null,8,["placeholder","value"])]}),_:1}),d(p,{class:"mb-3"},{default:l(()=>{var u,q;return[d(s,null,{default:l(()=>[C("Risk (0 - 5)")]),_:1}),d(c,{id:"order-risk-edit",disabled:"",placeholder:(u=n.editedOrder)==null?void 0:u.risk,"aria-label":"Risk","aria-describedby":"basic-addon1",value:(q=n.editedOrder)==null?void 0:q.risk},null,8,["placeholder","value"])]}),_:1}),(m(!0),y(Q,null,T(n.editedOrder.foods,u=>(m(),F(p,{class:"mb-3",key:u.id},{default:l(()=>[d(s,null,{default:l(()=>[C("Food")]),_:1}),d(c,{id:"order-risk-edit",disabled:"",placeholder:u==null?void 0:u.name,"aria-label":"Risk","aria-describedby":"basic-addon1",value:(u==null?void 0:u.name)+" - "+Number(u.price).toFixed(2)+"€"},null,8,["placeholder","value"])]),_:2},1024))),128))]),_:1},8,["targetId","title"])])])}const pa=$(Dt,[["render",_a],["__scopeId","data-v-fa0812fb"]]),X=new Se,wa=new Y,ba={props:{intiativeId:{type:Number,required:!0}},components:{AppModal:z},setup(o){const t=P([]);P([]);const r=P(1),e=P(""),n="addmaterial",h=P({isDeleted:!1}),s=P(null),c=P([]);function p(v){s.value=v}async function f(){t.value=await X.allMaterial({initiativeId:0,isDeleted:!1}).filter(v=>e.value.trim()===""?!0:v.name.toLowerCase().includes(e.value.toLowerCase())).filter((v,M)=>M>=(r.value-1)*10&&M<r.value*10)}async function _(){c.value=await X.allMaterial({initiativeId:o.intiativeId,isDeleted:!1}).filter(v=>e.value.trim()===""?!0:v.name.toLowerCase().includes(e.value.toLowerCase())).filter((v,M)=>M>=(r.value-1)*10&&M<r.value*10),console.log(c.value)}_();async function b(v){v.orderKey===h.value.orderKey&&(v.orderBy=h.value.orderBy==="asc"?"desc":"asc"),h.value={...h.value,...v},await f(),await _()}async function x(v){e.value=v,await f(),await _()}async function g(){h.value={isDeleted:!1},await f(),await _()}async function i(){r.value++,await f(),await _()}async function u(){r.value--,await f(),await _()}async function q(v){v<1&&(v=1),r.value=v,await f(),await _()}f();async function oe(){const v=document.getElementById("material-select"),M=document.getElementById("material-quantity");if(console.log(v.value,M.value),!v.value||!M.value){k("Please fill all the fields",{type:"error"});return}if(isNaN(Number(M.value))){k("Please insert a valid number",{type:"error"});return}const A=J(Number(v.value));if(console.log(A),console.log(A==null?void 0:A.quantity,Number(M.value)),((A==null?void 0:A.quantity)??0)<Number(M.value)){k("Not enough material in stock",{type:"error"});return}if(!A){k("Material not found",{type:"error"});return}A.initiativeId=o.intiativeId;try{await wa.addMaterial({...A,quantity:Number(M.value)}),console.log(A),console.log(o.intiativeId),k("Material added to initiative",{type:"success"})}catch(V){k(V.message,{type:"error"});return}document.getElementById("close-modal-"+n).click(),await q(1),await f(),await _()}function J(v){return t.value.find(M=>M.id===v)}async function re(v){try{await X.deleteMaterial(v),await f(),await _(),k("Material deleted",{type:"success"})}catch(M){k("Error deleting material: "+M.message,{type:"error"})}}async function B(){var ce,ue,me;const v=document.getElementById("material-name-edit"),M=document.getElementById("material-quantity-edit"),A=document.getElementById("material-delete-edit"),de=A?A.checked:!0,V={id:((ce=s.value)==null?void 0:ce.id)||0,...s.value,name:v.value||((ue=s.value)==null?void 0:ue.name)||"default",quantity:M.value||((me=s.value)==null?void 0:me.quantity)||"default",isDeleted:!de};if(!V.id){k("Error editing material: Material id not found",{type:"error"});return}try{await X.updateMaterial(V.id,V),await f(),await _(),k("Material edited",{type:"success"})}catch(we){k("Error editing material: "+we.message,{type:"error"});return}document.getElementById("close-modal-"+n+"-edit").click()}return{modalId:n,materialService:X,document,deleteMaterial:re,materials:t,initativeMaterials:c,getInitiativeMaterials:_,addInitiativeMaterial:oe,nextPage:i,previousPage:u,setPage:q,page:r,setQuery:b,resetQuery:g,query:h,setSearch:x,setEditMaterial:p,editedMaterial:s,findMaterialById:J,editMaterial:B}}},W=o=>(U("data-v-d8e73352"),o=o(),K(),o),Ia={class:"intro"},Ca={class:"bg-image h-100"},xa={class:"mask d-flex align-items-center h-100"},ka={class:"container"},Ma={class:"row justify-content-center"},Da={class:"col-12"},Ba={class:"d-flex align-items-center mb-3 gap-3 justify-content-between"},Pa=W(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[a("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})],-1)),qa={class:"card shadow-2-strong"},Fa={class:"card-body"},Sa={class:"table-responsive"},Aa={class:"table table-borderless mb-0"},Oa={scope:"col"},Ea=W(()=>a("p",{class:"p-0 m-0"},"Name",-1)),La=W(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Na=[La],Wa={scope:"col"},Qa=W(()=>a("p",{class:"p-0 m-0"},"Quantity",-1)),Ta=W(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Ra=[Ta],$a={scope:"col"},Ua=W(()=>a("p",{class:"p-0 m-0"},"Id",-1)),Ka=W(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Va=[Ka],ja={key:0,scope:"col"},Ga=["data-bs-target"],Xa=["data-bs-target"],za=["data-bs-target"],Ya={key:0,class:"custom-row"},Ja=["onClick"],Ha=W(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x text-white",viewBox:"0 0 16 16"},[a("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1)),Za=[Ha],eo={class:"container d-flex pt-4 justify-content-between"},to=W(()=>a("span",{"aria-hidden":"true"},"«",-1)),ao=W(()=>a("span",{"aria-hidden":"true"},"»",-1)),oo=["value"],ro=W(()=>a("div",null,null,-1));function no(o,t,r,e,n,h){const s=I("CInputGroupText"),c=I("CFormInput"),p=I("CInputGroup"),f=I("CButton"),_=I("CButtonGroup"),b=I("CPaginationItem"),x=I("CPagination"),g=I("app-modal");return m(),y("section",Ia,[a("div",Ca,[a("div",xa,[a("main",ka,[a("div",Ma,[a("div",Da,[a("div",Ba,[d(p,{class:"w-25"},{default:l(()=>[d(s,null,{default:l(()=>[Pa]),_:1}),d(c,{onChange:t[0]||(t[0]=i=>e.setSearch(i.target.value)),placeholder:"Search","aria-label":"Search","aria-describedby":"search"})]),_:1}),d(_,{role:"group","aria-label":"Basic example"},{default:l(()=>[d(f,{color:"primary",active:!e.query.isDeleted,onClick:t[1]||(t[1]=i=>e.setQuery({isDeleted:!1}))},{default:l(()=>[C("Active")]),_:1},8,["active"]),d(f,{color:"primary",active:e.query.isDeleted,onClick:t[2]||(t[2]=i=>e.setQuery({isDeleted:!0}))},{default:l(()=>[C("Deleted")]),_:1},8,["active"])]),_:1})]),a("div",qa,[a("div",Fa,[a("div",Sa,[d(le,{name:"fade"},{default:l(()=>[a("table",Aa,[a("thead",null,[a("tr",null,[a("th",Oa,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[3]||(t[3]=i=>e.setQuery({orderKey:"name",orderBy:"asc"}))},[Ea,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="name"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Na,4))])]),a("th",Wa,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[4]||(t[4]=i=>e.setQuery({orderKey:"quantity",orderBy:"asc"}))},[Qa,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="quantity"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Ra,4))])]),a("th",$a,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[5]||(t[5]=i=>e.setQuery({orderKey:"id",orderBy:"asc"}))},[Ua,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="id"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Va,4))])]),e.query.isDeleted?D("",!0):(m(),y("th",ja,"Delete"))])]),a("tbody",null,[(m(!0),y(Q,null,T(e.initativeMaterials,i=>(m(),y("tr",{key:i.id,class:"table-row custom-row-parent"},[a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.name),9,Ga),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.quantity),9,Xa),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.id),9,za),i.isDeleted?D("",!0):(m(),y("td",Ya,[a("button",{type:"button",class:"btn btn-danger btn-sm px-3",onClick:u=>e.deleteMaterial(i.id)},Za,8,Ja)]))]))),128))])])]),_:1})])])])])]),a("div",eo,[d(x,{"aria-label":"Page navigation example"},{default:l(()=>[e.page>1?(m(),F(b,{key:0,"aria-label":"Previous",style:{cursor:"pointer"},onClick:e.previousPage},{default:l(()=>[to]),_:1},8,["onClick"])):D("",!0),d(b,{active:""},{default:l(()=>[C(w(e.page),1)]),_:1}),e.materials.length==10?(m(),F(b,{key:1,onClick:t[6]||(t[6]=i=>e.setPage(e.page+1)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+1),1)]),_:1})):D("",!0),e.materials.length==10?(m(),F(b,{key:2,onClick:t[7]||(t[7]=i=>e.setPage(e.page+2)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+2),1)]),_:1})):D("",!0),e.materials.length==10?(m(),F(b,{key:3,"aria-label":"Next",onClick:e.nextPage,style:{cursor:"pointer"}},{default:l(()=>[ao]),_:1},8,["onClick"])):D("",!0)]),_:1}),d(f,{"data-bs-toggle":"modal",type:"button","data-bs-target":"#"+e.modalId,color:"primary"},{default:l(()=>[C(" Add new material ")]),_:1},8,["data-bs-target"]),d(g,{targetId:e.modalId,title:"Add Material",description:"Create a new material",saveAction:e.addInitiativeMaterial},{default:l(()=>[d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("Material")]),_:1}),ae(a("select",{id:"material-select",class:"form-control","onUpdate:modelValue":t[8]||(t[8]=i=>o.chosenMaterial=i)},[(m(!0),y(Q,null,T(e.materials,i=>(m(),y("option",{value:i.id,key:i.id},w(i.id)+"-"+w(i.name)+": "+w(i.quantity),9,oo))),128))],512),[[se,o.chosenMaterial]])]),_:1}),d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("Quantity (units)")]),_:1}),d(c,{id:"material-quantity",placeholder:"Quantity","aria-label":"Quantity","aria-describedby":"basic-addon1",modelValue:o.materialQuantity,"onUpdate:modelValue":t[9]||(t[9]=i=>o.materialQuantity=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["targetId","saveAction"])]),ro])])])])}const io=$(ba,[["render",no],["__scopeId","data-v-d8e73352"]]),Z=new _e,ve=new Y,so={props:{intiativeId:{type:Number,required:!0}},components:{AppModal:z},setup(o){const t=P([]),r=P([]),e=P(1),n=P(""),h="adduser",s=P({isDeleted:!1});P({isDeleted:!1});const c=P(null);function p(B){c.value=B}async function f(){r.value=await Z.listUsers({role:"worker"}).filter(B=>n.value.trim()===""?!0:B.name.includes(n.value)).filter((B,v)=>v>=(e.value-1)*10&&v<e.value*10)}function _(){const B=ve.getWorkers(o.intiativeId);console.log({auxworkers:B}),t.value=B.map(v=>{console.log({worker:v});const M=Z.getUserJob(v.jobId);return console.log({job:M}),{...v,job:M}}).filter(v=>n.value.trim()===""?!0:v.name.includes(n.value)).filter((v,M)=>M>=(e.value-1)*10&&M<e.value*10).filter(v=>s.value.isDeleted?v.isDeleted:!v.isDeleted)}async function b(B){B.orderKey===s.value.orderKey&&(B.orderBy=s.value.orderBy==="asc"?"desc":"asc"),s.value={...s.value,...B},await f(),await _()}_();async function x(B){n.value=B,await f(),await _()}async function g(){s.value={isDeleted:!1},await f(),await _()}async function i(){e.value++,await f(),await _()}async function u(){e.value--,await f(),await _()}async function q(B){B<1&&(B=1),e.value=B,await f(),await _()}f();async function oe(){const B=document.getElementById("User-select"),v=Number(B.value);if(!v){k("Please fill all the fields",{type:"error"});return}try{await ve.addWorker(o.intiativeId,v)}catch(A){k(A.message,{type:"error"});return}document.getElementById("close-modal-"+h).click(),k("Worker created",{type:"success"}),await q(1),await f()}async function J(B){try{await Z.deleteUser(B),await f(),await _(),k("User deleted",{type:"success"})}catch(v){k("Error deleting user: "+v.message,{type:"error"})}}async function re(){}return{modalId:"adduser",userService:Z,document,deleteUser:J,workers:t,users:r,addWorker:oe,nextPage:i,previousPage:u,setPage:q,page:e,setQuery:b,resetQuery:g,query:s,setSearch:x,setEditUser:p,editedUser:c,editUser:re}}},N=o=>(U("data-v-a0216c44"),o=o(),K(),o),lo={class:"intro"},co={class:"bg-image h-100"},uo={class:"mask d-flex align-items-center h-100"},mo={class:"container"},ho={class:"row justify-content-center"},fo={class:"col-12"},go={class:"d-flex align-items-center mb-3 gap-3 justify-content-between"},yo=N(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[a("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})],-1)),vo={class:"card shadow-2-strong"},_o={class:"card-body"},po={class:"table-responsive"},wo={class:"table table-borderless mb-0"},bo={scope:"col"},Io=N(()=>a("p",{class:"p-0 m-0"},"Name",-1)),Co=N(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),xo=[Co],ko={scope:"col"},Mo=N(()=>a("p",{class:"p-0 m-0"},"Email",-1)),Do=N(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Bo=[Do],Po=N(()=>a("th",{scope:"col"},"Job",-1)),qo={scope:"col"},Fo=N(()=>a("p",{class:"p-0 m-0"},"Id",-1)),So=N(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Ao=[So],Oo={key:0,scope:"col"},Eo=["onClick"],Lo=["data-bs-target"],No=["data-bs-target"],Wo=["data-bs-target"],Qo=["data-bs-target"],To={key:0,class:"custom-row"},Ro=["onClick"],$o=N(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x text-white",viewBox:"0 0 16 16"},[a("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1)),Uo=[$o],Ko={class:"container d-flex pt-4 justify-content-between"},Vo=N(()=>a("span",{"aria-hidden":"true"},"«",-1)),jo=N(()=>a("span",{"aria-hidden":"true"},"»",-1)),Go=["value"],Xo=N(()=>a("div",null,null,-1));function zo(o,t,r,e,n,h){const s=I("CInputGroupText"),c=I("CFormInput"),p=I("CInputGroup"),f=I("CButton"),_=I("CButtonGroup"),b=I("CPaginationItem"),x=I("CPagination"),g=I("app-modal");return m(),y("section",lo,[a("div",co,[a("div",uo,[a("main",mo,[a("div",ho,[a("div",fo,[a("div",go,[d(p,{class:"w-25"},{default:l(()=>[d(s,null,{default:l(()=>[yo]),_:1}),d(c,{onChange:t[0]||(t[0]=i=>e.setSearch(i.target.value)),placeholder:"Search","aria-label":"Search","aria-describedby":"search"})]),_:1}),d(_,{role:"group","aria-label":"Basic example"},{default:l(()=>[d(f,{color:"primary",active:!e.query.isDeleted,onClick:t[1]||(t[1]=i=>e.setQuery({isDeleted:!1}))},{default:l(()=>[C("Active")]),_:1},8,["active"]),d(f,{color:"primary",active:e.query.isDeleted,onClick:t[2]||(t[2]=i=>e.setQuery({isDeleted:!0}))},{default:l(()=>[C("Deleted")]),_:1},8,["active"])]),_:1})]),a("div",vo,[a("div",_o,[a("div",po,[d(le,{name:"fade"},{default:l(()=>[a("table",wo,[a("thead",null,[a("tr",null,[a("th",bo,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[3]||(t[3]=i=>e.setQuery({orderKey:"name",orderBy:"asc"}))},[Io,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="name"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},xo,4))])]),a("th",ko,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[4]||(t[4]=i=>e.setQuery({orderKey:"email",orderBy:"asc"}))},[Mo,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="email"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Bo,4))])]),Po,a("th",qo,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[5]||(t[5]=i=>e.setQuery({orderKey:"id",orderBy:"asc"}))},[Fo,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="id"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Ao,4))])]),e.query.isDeleted?D("",!0):(m(),y("th",Oo,"Delete"))])]),a("tbody",null,[(m(!0),y(Q,null,T(e.workers,i=>(m(),y("tr",{key:i.id,onClick:u=>e.setEditUser(i),class:"table-row custom-row-parent"},[a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.name),9,Lo),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.email),9,No),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.job.name),9,Wo),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(i.id),9,Qo),i.isDeleted?D("",!0):(m(),y("td",To,[a("button",{type:"button",class:"btn btn-danger btn-sm px-3",onClick:u=>e.deleteUser(i.id)},Uo,8,Ro)]))],8,Eo))),128))])])]),_:1})])])])])]),a("div",Ko,[d(x,{"aria-label":"Page navigation example"},{default:l(()=>[e.page>1?(m(),F(b,{key:0,"aria-label":"Previous",style:{cursor:"pointer"},onClick:e.previousPage},{default:l(()=>[Vo]),_:1},8,["onClick"])):D("",!0),d(b,{active:""},{default:l(()=>[C(w(e.page),1)]),_:1}),e.users.length==10?(m(),F(b,{key:1,onClick:t[6]||(t[6]=i=>e.setPage(e.page+1)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+1),1)]),_:1})):D("",!0),e.users.length==10?(m(),F(b,{key:2,onClick:t[7]||(t[7]=i=>e.setPage(e.page+2)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+2),1)]),_:1})):D("",!0),e.users.length==10?(m(),F(b,{key:3,"aria-label":"Next",onClick:e.nextPage,style:{cursor:"pointer"}},{default:l(()=>[jo]),_:1},8,["onClick"])):D("",!0)]),_:1}),d(f,{"data-bs-toggle":"modal",type:"button","data-bs-target":"#"+e.modalId,color:"primary"},{default:l(()=>[C(" Add new worker ")]),_:1},8,["data-bs-target"]),d(g,{targetId:e.modalId,title:"Add User",description:"Create a new user",saveAction:e.addWorker},{default:l(()=>[d(p,{class:"mb-3"},{default:l(()=>[d(s,null,{default:l(()=>[C("User")]),_:1}),ae(a("select",{id:"User-select",class:"User-control","onUpdate:modelValue":t[8]||(t[8]=i=>o.chosenUser=i)},[(m(!0),y(Q,null,T(e.users,i=>(m(),y("option",{value:i.id,key:i.id},w(i.id)+" - "+w(i.name)+": ",9,Go))),128))],512),[[se,o.chosenUser]])]),_:1})]),_:1},8,["targetId","saveAction"])]),Xo])])])])}const Yo=$(so,[["render",zo],["__scopeId","data-v-a0216c44"]]),ee=new Y,Jo={name:"InitiativeImages",props:{initiativeId:{type:Number,required:!0}},data(){return{images:[],uploading:!1,uploadProgress:0}},created(){this.loadImages()},methods:{async loadImages(){try{console.log({initiativeId:this.$props.initiativeId}),this.images=ee.getImages(this.$props.initiativeId)}catch(o){console.error("Erro ao carregar imagens:",o)}},handleFileUpload(){var r;const o=document.getElementById("file-upload"),t=(r=o==null?void 0:o.files)==null?void 0:r[0];ee.addImage(this.$props.initiativeId,t).then(()=>{k("Imagem adicionada com sucesso!",{type:"success"}),this.loadImages()}).catch(e=>{k(e.message,{type:"error"})})},async uploadImage(o){try{ee.addImage(this.initiativeId,o)}catch(t){console.error("Erro ao adicionar imagem:",t)}},async removeImage(o){try{ee.deleteImage(o),this.loadImages()}catch(t){console.error("Erro ao remover imagem:",t)}}}},pe=o=>(U("data-v-27e297a5"),o=o(),K(),o),Ho={class:"p-4"},Zo={key:0,class:"grid grid-cols-2 md:grid-cols-3 gap-4"},er=["src"],tr=["onClick"],ar={key:1,class:"text-gray-500"},or=pe(()=>a("p",null,"Não há imagens para esta iniciativa.",-1)),rr=[or],nr={class:"mt-6"},ir=pe(()=>a("input",{type:"file",id:"file-upload",class:"block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50 focus:outline-none"},null,-1)),sr={key:2,class:"mt-4"},lr=["value"],dr={class:"text-sm text-gray-500 mt-2"};function cr(o,t,r,e,n,h){return m(),y("div",Ho,[n.images.length?(m(),y("div",Zo,[(m(!0),y(Q,null,T(n.images,s=>(m(),y("div",{key:s.id,class:"image-container"},[a("img",{src:s.data,alt:"Imagem da Iniciativa",class:"image"},null,8,er),a("button",{class:"remove-button",onClick:c=>h.removeImage(s.id)}," Remover ",8,tr)]))),128))])):(m(),y("div",ar,rr)),a("div",nr,[ir,a("button",{onClick:t[0]||(t[0]=(...s)=>h.handleFileUpload&&h.handleFileUpload(...s)),class:"mt-4 bg-primary text-white px-4 py-2 rounded hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-opacity-50"}," Upload ")]),n.uploading?(m(),y("div",sr,[a("progress",{value:n.uploadProgress,max:"100",class:"w-full h-4 rounded bg-gray-200"},null,8,lr),a("p",dr,"Uploading... "+w(n.uploadProgress.toFixed(0))+"%",1)])):D("",!0)])}const ur=$(Jo,[["render",cr],["__scopeId","data-v-27e297a5"]]),mr=new _e,hr=new Y,fr={props:{intiativeId:{type:Number,required:!0}},components:{AppModal:z},setup(o){const t=P([]),r=P(1),e=P(""),n=P({isDeleted:!1});async function h(){t.value=hr.getParticipants(o.intiativeId).filter(g=>e.value.trim()===""?!0:g.name.includes(e.value)).filter((g,i)=>i>=(r.value-1)*10&&i<r.value*10)}async function s(g){g.orderKey===n.value.orderKey&&(g.orderBy=n.value.orderBy==="asc"?"desc":"asc"),n.value={...n.value,...g},await h()}async function c(g){e.value=g,await h()}async function p(){n.value={isDeleted:!1},await h()}async function f(){r.value++,await h()}async function _(){r.value--,await h()}async function b(g){g<1&&(g=1),r.value=g,await h()}h();async function x(){}return{modalId:"adduser",userService:mr,document,participants:t,nextPage:f,previousPage:_,setPage:b,page:r,setQuery:s,resetQuery:p,query:n,setSearch:c,editUser:x}}},L=o=>(U("data-v-ffdb242b"),o=o(),K(),o),gr={class:"intro"},yr={class:"bg-image h-100"},vr={class:"mask d-flex align-items-center h-100"},_r={class:"container"},pr={class:"row justify-content-center"},wr={class:"col-12"},br={class:"d-flex align-items-center mb-3 gap-3 justify-content-between"},Ir=L(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",fill:"currentColor",class:"bi bi-search",viewBox:"0 0 16 16"},[a("path",{d:"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0"})],-1)),Cr={class:"card shadow-2-strong"},xr={class:"card-body"},kr={class:"table-responsive"},Mr={class:"table table-borderless mb-0"},Dr={scope:"col"},Br=L(()=>a("p",{class:"p-0 m-0"},"Name",-1)),Pr=L(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),qr=[Pr],Fr={scope:"col"},Sr=L(()=>a("p",{class:"p-0 m-0"},"Email",-1)),Ar=L(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Or=[Ar],Er={scope:"col"},Lr=L(()=>a("p",{class:"p-0 m-0"},"Birth Date",-1)),Nr=L(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),Wr=[Nr],Qr={scope:"col"},Tr=L(()=>a("p",{class:"p-0 m-0"},"Id",-1)),Rr=L(()=>a("path",{"fill-rule":"evenodd",d:"M8 4a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 1 1 .708-.708L7.5 10.293V4.5A.5.5 0 0 1 8 4"},null,-1)),$r=[Rr],Ur={key:0,scope:"col"},Kr=["data-bs-target"],Vr=["data-bs-target"],jr=["data-bs-target"],Gr=["data-bs-target"],Xr={key:0,class:"custom-row"},zr=["onClick"],Yr=L(()=>a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-x text-white",viewBox:"0 0 16 16"},[a("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1)),Jr=[Yr],Hr={class:"container d-flex pt-4 justify-content-between"},Zr=L(()=>a("span",{"aria-hidden":"true"},"«",-1)),en=L(()=>a("span",{"aria-hidden":"true"},"»",-1)),tn=L(()=>a("div",null,null,-1));function an(o,t,r,e,n,h){const s=I("CInputGroupText"),c=I("CFormInput"),p=I("CInputGroup"),f=I("CButton"),_=I("CButtonGroup"),b=I("CPaginationItem"),x=I("CPagination");return m(),y("section",gr,[a("div",yr,[a("div",vr,[a("main",_r,[a("div",pr,[a("div",wr,[a("div",br,[d(p,{class:"w-25"},{default:l(()=>[d(s,null,{default:l(()=>[Ir]),_:1}),d(c,{onChange:t[0]||(t[0]=g=>e.setSearch(g.target.value)),placeholder:"Search","aria-label":"Search","aria-describedby":"search"})]),_:1}),d(_,{role:"group","aria-label":"Basic example"},{default:l(()=>[d(f,{color:"primary",active:!e.query.isDeleted,onClick:t[1]||(t[1]=g=>e.setQuery({isDeleted:!1}))},{default:l(()=>[C("Active")]),_:1},8,["active"]),d(f,{color:"primary",active:e.query.isDeleted,onClick:t[2]||(t[2]=g=>e.setQuery({isDeleted:!0}))},{default:l(()=>[C("Deleted")]),_:1},8,["active"])]),_:1})]),a("div",Cr,[a("div",xr,[a("div",kr,[d(le,{name:"fade"},{default:l(()=>[a("table",Mr,[a("thead",null,[a("tr",null,[a("th",Dr,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[3]||(t[3]=g=>e.setQuery({orderKey:"name",orderBy:"asc"}))},[Br,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="name"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},qr,4))])]),a("th",Fr,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[4]||(t[4]=g=>e.setQuery({orderKey:"email",orderBy:"asc"}))},[Sr,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="email"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Or,4))])]),a("th",Er,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[5]||(t[5]=g=>e.setQuery({orderKey:"birthDate",orderBy:"asc"}))},[Lr,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="birthDate"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},Wr,4))])]),a("th",Qr,[a("div",{class:"d-flex align-items-center gap-2",style:{cursor:"pointer"},onClick:t[6]||(t[6]=g=>e.setQuery({orderKey:"id",orderBy:"asc"}))},[Tr,(m(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-down-short",viewBox:"0 0 16 16",style:O({transform:e.query.orderKey==="id"&&e.query.orderBy==="asc"?"rotate(180deg)":"rotate(0deg)"})},$r,4))])]),e.query.isDeleted?D("",!0):(m(),y("th",Ur,"Delete"))])]),a("tbody",null,[(m(!0),y(Q,null,T(e.participants,g=>(m(),y("tr",{key:g.id,class:"table-row custom-row-parent"},[a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(g.name),9,Kr),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(g.email),9,Vr),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(g.birthDate),9,jr),a("td",{class:"custom-row","data-bs-toggle":"modal","data-bs-target":"#"+e.modalId+"-edit"},w(g.id),9,Gr),g.isDeleted?D("",!0):(m(),y("td",Xr,[a("button",{type:"button",class:"btn btn-danger btn-sm px-3",onClick:i=>o.deleteUser(g.id)},Jr,8,zr)]))]))),128))])])]),_:1})])])])])]),a("div",Hr,[d(x,{"aria-label":"Page navigation example"},{default:l(()=>[e.page>1?(m(),F(b,{key:0,"aria-label":"Previous",style:{cursor:"pointer"},onClick:e.previousPage},{default:l(()=>[Zr]),_:1},8,["onClick"])):D("",!0),d(b,{active:""},{default:l(()=>[C(w(e.page),1)]),_:1}),e.participants.length==10?(m(),F(b,{key:1,onClick:t[7]||(t[7]=g=>e.setPage(e.page+1)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+1),1)]),_:1})):D("",!0),e.participants.length==10?(m(),F(b,{key:2,onClick:t[8]||(t[8]=g=>e.setPage(e.page+2)),style:{cursor:"pointer"}},{default:l(()=>[C(w(e.page+2),1)]),_:1})):D("",!0),e.participants.length==10?(m(),F(b,{key:3,"aria-label":"Next",onClick:e.nextPage,style:{cursor:"pointer"}},{default:l(()=>[en]),_:1},8,["onClick"])):D("",!0)]),_:1})]),tn])])])])}const on=$(fr,[["render",an],["__scopeId","data-v-ffdb242b"]]),rn={components:{AppModal:z,Order:pa,Material:io,Worker:Yo,Gallery:ur,Participant:on},setup(){const o=Ie(),t=P(null);return t.value=parseInt(o.params.id,10)||null,t.value===null&&console.error("Initiative ID is required."),console.log("Initiative ID:",t.value),{initiativeId:t}}},R=o=>(U("data-v-7ea0ce9f"),o=o(),K(),o),nn={class:"intro"},sn=R(()=>a("h1",{class:"px-2"},"Orders",-1)),ln=R(()=>a("br",null,null,-1)),dn=R(()=>a("h1",{class:"px-2"},"Materials",-1)),cn=R(()=>a("br",null,null,-1)),un=R(()=>a("h1",{class:"px-2"},"Worker",-1)),mn=R(()=>a("br",null,null,-1)),hn=R(()=>a("h1",{class:"px-2"},"Gallery",-1)),fn=R(()=>a("br",null,null,-1)),gn=R(()=>a("h1",{class:"px-2"},"Participant",-1));function yn(o,t,r,e,n,h){const s=I("order"),c=I("material"),p=I("worker"),f=I("gallery"),_=I("participant");return m(),y("section",nn,[a("div",null,[sn,d(s,{intiativeId:e.initiativeId},null,8,["intiativeId"]),ln,dn,d(c,{intiativeId:e.initiativeId},null,8,["intiativeId"]),cn,un,d(p,{intiativeId:e.initiativeId},null,8,["intiativeId"]),mn,hn,d(f,{intiativeId:e.initiativeId},null,8,["intiativeId"]),fn,gn,d(_,{intiativeId:e.initiativeId},null,8,["intiativeId"])])])}const Bn=$(rn,[["render",yn],["__scopeId","data-v-7ea0ce9f"]]);export{Bn as default};
