import{R as i}from"./RepositoryInterface-TDgCEybl.js";class o{constructor(e){this.repo=new i,this.localStorage=window.localStorage,this.prefix="initiative-",this.last_id="initiative_last_id"}create(e){return this.repo.create(e,this.localStorage,this.prefix,this.last_id)}update(e,t){return this.repo.update(e,t,this.localStorage,this.prefix)}delete(e){return this.repo.delete(e,this.localStorage,this.prefix)}find(e){return this.repo.find(e,this.localStorage,this.prefix)}all(e){return this.repo.all(e,this.localStorage,this.prefix)}}class s{constructor(e){this.repo=new i,this.localStorage=window.localStorage,this.prefix="suggestion-",this.last_id="suggestion_last_id"}create(e){return this.repo.create(e,this.localStorage,this.prefix,this.last_id)}update(e,t){return this.repo.update(e,t,this.localStorage,this.prefix)}delete(e){return this.repo.delete(e,this.localStorage,this.prefix)}find(e){return this.repo.find(e,this.localStorage,this.prefix)}all(e){return this.repo.all(e,this.localStorage,this.prefix)}}class n{constructor(){this.suggestionRepository=new s,this.initiativeRepository=new o}createSuggestion(e){if(e.eventName===""||e.email===""||e.description===""||e.local===""||e.numParticipants<=0||isNaN(Number(e.numParticipants))||isNaN(Number(e.budget))||e.budget<=0)throw new Error("Event Name, Email and Description, Local, Number of Participants are required.");if(e.date<=new Date)throw new Error("Invalid Date");if(e.eventType!=="food_rescue"&&e.eventType!=="healthy_diets"&&e.eventType!=="food_safety"&&e.eventType!=="zero_waste")throw new Error("Event type needs to be valid");return e.createdOn=new Date,e.isApproved=!1,e.isDeleted=!1,this.suggestionRepository.create(e)}find(e){return this.suggestionRepository.find(e)}approveSuggestion(e){const t=this.suggestionRepository.find({id:e});if(!t)throw new Error("Suggestion not found.");return t.isApproved=!0,t.status="Approved",this.suggestionRepository.update(e,t)}rejectSuggestion(e){const t=this.suggestionRepository.find({id:e});if(!t)throw new Error("Suggestion not found.");return t.isApproved=!1,t.status="Rejected",this.suggestionRepository.update(e,t)}getAllSuggestions(e){return this.suggestionRepository.all(e)}}export{o as I,n as S,s as a};
